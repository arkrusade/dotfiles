#!/bin/bash
set -e
cd ~/home
for file in $(comm <(git ls-tree master --name-only | sort) <(sort <(cat nocopy.txt)) -3 -2)
do
    # hard or soft link?
    # ln -f ~/home/$file ~/$file
    if [ -L ~/$file ]
    then
        echo symlink to ~/$file already exists
    else
        if [ -a ~/$file ]
        then
            echo -e ${RED}~/$file already exists${NC}
        else
            echo linking ~/home/$file ~/$file
            ln -sf ~/home/$file ~/$file
        fi
    fi
done

